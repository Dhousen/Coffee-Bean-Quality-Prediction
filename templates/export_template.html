<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <title>Riwayat Prediksi Kopi Robusta</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      font-size: 12px;
      margin: 20px;
      color: #000;
    }

    /* Header - Alignment diperbaiki */
    .header {
      display: flex;
      justify-content: space-between;
      align-items: center; /* Diubah ke center untuk sejajar vertikal */
      border-bottom: 2px solid #000;
      padding-bottom: 10px;
      margin-bottom: 15px;
    }
    .logo-container {
      display: flex;
      align-items: center;
    }
    .logo {
      width: 250px; /* Logo diperbesar */
      height: auto;
      object-fit: contain;
    }
    .company-info {
      font-size: 11px;
      line-height: 1.3;
      text-align: right;
      padding-top: 0;
      margin-top: 0;
    }

    /* Judul */
    h2 {
      text-align: center;
      margin: 10px 0 15px 0;
      font-size: 16px;
      padding: 0 10px;
    }

    /* Tabel dengan penyesuaian kolom */
    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 10px;
      table-layout: fixed;
    }
    th, td {
      border: 1px solid #000;
      padding: 5px 4px;
      vertical-align: middle;
      font-size: 10px;
      line-height: 1.2;
    }
    th {
      background-color: #f2f2f2;
      font-weight: bold;
      text-align: center;
      padding: 6px 4px;
    }
    td {
      background-color: #fff;
      overflow: hidden;
      text-overflow: ellipsis;
    }
    tbody tr:nth-child(even) td {
      background-color: #f9f9f9;
    }
    .num {
      text-align: center;
    }
    .text-left {
      text-align: left;
    }
    
    /* Penyesuaian lebar kolom spesifik */
    colgroup col:nth-child(1) { width: 3%; }   /* No - diperkecil */
    colgroup col:nth-child(2) { width: 12%; } /* Nama Penguji */
    colgroup col:nth-child(3) { width: 6%; }  /* Berat */
    colgroup col:nth-child(4) { width: 7%; }  /* Ukuran */
    colgroup col:nth-child(5) { width: 10%; } /* Tekstur */
    colgroup col:nth-child(6) { width: 14%; } /* Warna - diperlebar */
    colgroup col:nth-child(7) { width: 10%; } /* Harga */
    colgroup col:nth-child(8) { width: 13%; } /* Tempat Produksi */
    colgroup col:nth-child(9) { width: 13%; } /* Tanggal Prediksi */
    colgroup col:nth-child(10) { width: 14%; } /* Hasil */
  </style>
</head>
<body>

<div class="header">
  <div class="logo-container">
    <img src="{{ logo_path }}" alt="ItsMyCoffee Logo" class="logo">
  </div>
  <div class="company-info">
    Lt.1 HK Tower, Jalan MT Haryono Kecamatan No.Kav.8,<br>
    RT.12/RW.11, Cawang, Kecamatan Jatinegara,<br>
    Kota Jakarta Timur
  </div>
</div>

<h2>Riwayat Prediksi Kualitas Biji Kopi Robusta</h2>

<table>
  <colgroup>
    <col><col><col><col><col><col><col><col><col><col>
  </colgroup>
  <thead>
    <tr>
      <th>No.</th>
      <th>Nama Penguji</th>
      <th>Berat (g)</th>
      <th>Ukuran (mm)</th>
      <th>Tekstur</th>
      <th>Warna</th>
      <th>Harga (Rp)</th>
      <th>Tempat Produksi</th>
      <th>Tanggal Prediksi</th>
      <th>Hasil</th>
    </tr>
  </thead>
  <tbody>
    {% for item in history %}
    <tr>
      <td class="num">{{ loop.index }}</td>
      <td class="text-left">{{ item.nama_penguji }}</td>
      <td class="num">{{ item.berat }}</td>
      <td class="num">{{ item.ukuran }}</td>
      <td class="text-left">{{ item.tekstur }}</td>
      <td class="text-left">{{ item.warna }}</td>
      <td class="num">{{ "{:,.0f}".format(item.harga) }}</td>
      <td class="text-left">{{ item.tempat_produksi }}</td>
      <td class="num">
        {% if item.tanggal_prediksi %}
          {{ item.tanggal_prediksi.strftime('%d-%m-%Y %H:%M') }}
        {% else %}
          -
        {% endif %}
      </td>
      <td class="text-left">{{ item.hasil }}</td>
    </tr>
    {% endfor %}
  </tbody>
</table>

</body>
</html>